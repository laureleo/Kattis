d = {('a', 'a'): 0, ('a', 'b'): 5, ('a', 'c'): 3, ('a', 'd'): 2, ('a', 'e'): 3, ('a', 'f'): 3, ('a', 'g'): 4, ('a', 'h'): 5, ('a', 'i'): 8, ('a', 'j'): 6, ('a', 'k'): 7, ('a', 'l'): 8, ('a', 'm'): 7, ('a', 'n'): 6, ('a', 'o'): 9, ('a', 'p'): 10, ('a', 'q'): 1, ('a', 'r'): 4, ('a', 's'): 1, ('a', 't'): 5, ('a', 'u'): 7, ('a', 'v'): 4, ('a', 'w'): 2, ('a', 'x'): 2, ('a', 'y'): 6, ('a', 'z'): 1, ('b', 'a'): 5, ('b', 'b'): 0, ('b', 'c'): 2, ('b', 'd'): 3, ('b', 'e'): 4, ('b', 'f'): 2, ('b', 'g'): 1, ('b', 'h'): 2, ('b', 'i'): 5, ('b', 'j'): 3, ('b', 'k'): 4, ('b', 'l'): 5, ('b', 'm'): 2, ('b', 'n'): 1, ('b', 'o'): 6, ('b', 'p'): 7, ('b', 'q'): 6, ('b', 'r'): 3, ('b', 's'): 4, ('b', 't'): 2, ('b', 'u'): 4, ('b', 'v'): 1, ('b', 'w'): 5, ('b', 'x'): 3, ('b', 'y'): 3, ('b', 'z'): 4, ('c', 'a'): 3, ('c', 'b'): 2, ('c', 'c'): 0, ('c', 'd'): 1, ('c', 'e'): 2, ('c', 'f'): 2, ('c', 'g'): 3, ('c', 'h'): 4, ('c', 'i'): 7, ('c', 'j'): 5, ('c', 'k'): 6, ('c', 'l'): 7, ('c', 'm'): 4, ('c', 'n'): 3, ('c', 'o'): 8, ('c', 'p'): 9, ('c', 'q'): 4, ('c', 'r'): 3, ('c', 's'): 2, ('c', 't'): 4, ('c', 'u'): 6, ('c', 'v'): 1, ('c', 'w'): 3, ('c', 'x'): 1, ('c', 'y'): 5, ('c', 'z'): 2, ('d', 'a'): 2, ('d', 'b'): 3, ('d', 'c'): 1, ('d', 'd'): 0, ('d', 'e'): 1, ('d', 'f'): 1, ('d', 'g'): 2, ('d', 'h'): 3, ('d', 'i'): 6, ('d', 'j'): 4, ('d', 'k'): 5, ('d', 'l'): 6, ('d', 'm'): 5, ('d', 'n'): 4, ('d', 'o'): 7, ('d', 'p'): 8, ('d', 'q'): 3, ('d', 'r'): 2, ('d', 's'): 1, ('d', 't'): 3, ('d', 'u'): 5, ('d', 'v'): 2, ('d', 'w'): 2, ('d', 'x'): 2, ('d', 'y'): 4, ('d', 'z'): 3, ('e', 'a'): 3, ('e', 'b'): 4, ('e', 'c'): 2, ('e', 'd'): 1, ('e', 'e'): 0, ('e', 'f'): 2, ('e', 'g'): 3, ('e', 'h'): 4, ('e', 'i'): 5, ('e', 'j'): 5, ('e', 'k'): 6, ('e', 'l'): 7, ('e', 'm'): 6, ('e', 'n'): 5, ('e', 'o'): 6, ('e', 'p'): 7, ('e', 'q'): 2, ('e', 'r'): 1, ('e', 's'): 2, ('e', 't'): 2, ('e', 'u'): 4, ('e', 'v'): 3, ('e', 'w'): 1, ('e', 'x'): 3, ('e', 'y'): 3, ('e', 'z'): 4, ('f', 'a'): 3, ('f', 'b'): 2, ('f', 'c'): 2, ('f', 'd'): 1, ('f', 'e'): 2, ('f', 'f'): 0, ('f', 'g'): 1, ('f', 'h'): 2, ('f', 'i'): 5, ('f', 'j'): 3, ('f', 'k'): 4, ('f', 'l'): 5, ('f', 'm'): 4, ('f', 'n'): 3, ('f', 'o'): 6, ('f', 'p'): 7, ('f', 'q'): 4, ('f', 'r'): 1, ('f', 's'): 2, ('f', 't'): 2, ('f', 'u'): 4, ('f', 'v'): 1, ('f', 'w'): 3, ('f', 'x'): 3, ('f', 'y'): 3, ('f', 'z'): 4, ('g', 'a'): 4, ('g', 'b'): 1, ('g', 'c'): 3, ('g', 'd'): 2, ('g', 'e'): 3, ('g', 'f'): 1, ('g', 'g'): 0, ('g', 'h'): 1, ('g', 'i'): 4, ('g', 'j'): 2, ('g', 'k'): 3, ('g', 'l'): 4, ('g', 'm'): 3, ('g', 'n'): 2, ('g', 'o'): 5, ('g', 'p'): 6, ('g', 'q'): 5, ('g', 'r'): 2, ('g', 's'): 3, ('g', 't'): 1, ('g', 'u'): 3, ('g', 'v'): 2, ('g', 'w'): 4, ('g', 'x'): 4, ('g', 'y'): 2, ('g', 'z'): 5, ('h', 'a'): 5, ('h', 'b'): 2, ('h', 'c'): 4, ('h', 'd'): 3, ('h', 'e'): 4, ('h', 'f'): 2, ('h', 'g'): 1, ('h', 'h'): 0, ('h', 'i'): 3, ('h', 'j'): 1, ('h', 'k'): 2, ('h', 'l'): 3, ('h', 'm'): 2, ('h', 'n'): 1, ('h', 'o'): 4, ('h', 'p'): 5, ('h', 'q'): 6, ('h', 'r'): 3, ('h', 's'): 4, ('h', 't'): 2, ('h', 'u'): 2, ('h', 'v'): 3, ('h', 'w'): 5, ('h', 'x'): 5, ('h', 'y'): 1, ('h', 'z'): 6, ('i', 'a'): 8, ('i', 'b'): 5, ('i', 'c'): 7, ('i', 'd'): 6, ('i', 'e'): 5, ('i', 'f'): 5, ('i', 'g'): 4, ('i', 'h'): 3, ('i', 'i'): 0, ('i', 'j'): 2, ('i', 'k'): 1, ('i', 'l'): 2, ('i', 'm'): 3, ('i', 'n'): 4, ('i', 'o'): 1, ('i', 'p'): 2, ('i', 'q'): 7, ('i', 'r'): 4, ('i', 's'): 7, ('i', 't'): 3, ('i', 'u'): 1, ('i', 'v'): 6, ('i', 'w'): 6, ('i', 'x'): 8, ('i', 'y'): 2, ('i', 'z'): 9, ('j', 'a'): 6, ('j', 'b'): 3, ('j', 'c'): 5, ('j', 'd'): 4, ('j', 'e'): 5, ('j', 'f'): 3, ('j', 'g'): 2, ('j', 'h'): 1, ('j', 'i'): 2, ('j', 'j'): 0, ('j', 'k'): 1, ('j', 'l'): 2, ('j', 'm'): 1, ('j', 'n'): 2, ('j', 'o'): 3, ('j', 'p'): 4, ('j', 'q'): 7, ('j', 'r'): 4, ('j', 's'): 5, ('j', 't'): 3, ('j', 'u'): 1, ('j', 'v'): 4, ('j', 'w'): 6, ('j', 'x'): 6, ('j', 'y'): 2, ('j', 'z'): 7, ('k', 'a'): 7, ('k', 'b'): 4, ('k', 'c'): 6, ('k', 'd'): 5, ('k', 'e'): 6, ('k', 'f'): 4, ('k', 'g'): 3, ('k', 'h'): 2, ('k', 'i'): 1, ('k', 'j'): 1, ('k', 'k'): 0, ('k', 'l'): 1, ('k', 'm'): 2, ('k', 'n'): 3, ('k', 'o'): 2, ('k', 'p'): 3, ('k', 'q'): 8, ('k', 'r'): 5, ('k', 's'): 6, ('k', 't'): 4, ('k', 'u'): 2, ('k', 'v'): 5, ('k', 'w'): 7, ('k', 'x'): 7, ('k', 'y'): 3, ('k', 'z'): 8, ('l', 'a'): 8, ('l', 'b'): 5, ('l', 'c'): 7, ('l', 'd'): 6, ('l', 'e'): 7, ('l', 'f'): 5, ('l', 'g'): 4, ('l', 'h'): 3, ('l', 'i'): 2, ('l', 'j'): 2, ('l', 'k'): 1, ('l', 'l'): 0, ('l', 'm'): 3, ('l', 'n'): 4, ('l', 'o'): 1, ('l', 'p'): 2, ('l', 'q'): 9, ('l', 'r'): 6, ('l', 's'): 7, ('l', 't'): 5, ('l', 'u'): 3, ('l', 'v'): 6, ('l', 'w'): 8, ('l', 'x'): 8, ('l', 'y'): 4, ('l', 'z'): 9, ('m', 'a'): 7, ('m', 'b'): 2, ('m', 'c'): 4, ('m', 'd'): 5, ('m', 'e'): 6, ('m', 'f'): 4, ('m', 'g'): 3, ('m', 'h'): 2, ('m', 'i'): 3, ('m', 'j'): 1, ('m', 'k'): 2, ('m', 'l'): 3, ('m', 'm'): 0, ('m', 'n'): 1, ('m', 'o'): 4, ('m', 'p'): 5, ('m', 'q'): 8, ('m', 'r'): 5, ('m', 's'): 6, ('m', 't'): 4, ('m', 'u'): 2, ('m', 'v'): 3, ('m', 'w'): 7, ('m', 'x'): 5, ('m', 'y'): 3, ('m', 'z'): 6, ('n', 'a'): 6, ('n', 'b'): 1, ('n', 'c'): 3, ('n', 'd'): 4, ('n', 'e'): 5, ('n', 'f'): 3, ('n', 'g'): 2, ('n', 'h'): 1, ('n', 'i'): 4, ('n', 'j'): 2, ('n', 'k'): 3, ('n', 'l'): 4, ('n', 'm'): 1, ('n', 'n'): 0, ('n', 'o'): 5, ('n', 'p'): 6, ('n', 'q'): 7, ('n', 'r'): 4, ('n', 's'): 5, ('n', 't'): 3, ('n', 'u'): 3, ('n', 'v'): 2, ('n', 'w'): 6, ('n', 'x'): 4, ('n', 'y'): 2, ('n', 'z'): 5, ('o', 'a'): 9, ('o', 'b'): 6, ('o', 'c'): 8, ('o', 'd'): 7, ('o', 'e'): 6, ('o', 'f'): 6, ('o', 'g'): 5, ('o', 'h'): 4, ('o', 'i'): 1, ('o', 'j'): 3, ('o', 'k'): 2, ('o', 'l'): 1, ('o', 'm'): 4, ('o', 'n'): 5, ('o', 'o'): 0, ('o', 'p'): 1, ('o', 'q'): 8, ('o', 'r'): 5, ('o', 's'): 8, ('o', 't'): 4, ('o', 'u'): 2, ('o', 'v'): 7, ('o', 'w'): 7, ('o', 'x'): 9, ('o', 'y'): 3, ('o', 'z'): 10, ('p', 'a'): 10, ('p', 'b'): 7, ('p', 'c'): 9, ('p', 'd'): 8, ('p', 'e'): 7, ('p', 'f'): 7, ('p', 'g'): 6, ('p', 'h'): 5, ('p', 'i'): 2, ('p', 'j'): 4, ('p', 'k'): 3, ('p', 'l'): 2, ('p', 'm'): 5, ('p', 'n'): 6, ('p', 'o'): 1, ('p', 'p'): 0, ('p', 'q'): 9, ('p', 'r'): 6, ('p', 's'): 9, ('p', 't'): 5, ('p', 'u'): 3, ('p', 'v'): 8, ('p', 'w'): 8, ('p', 'x'): 10, ('p', 'y'): 4, ('p', 'z'): 11, ('q', 'a'): 1, ('q', 'b'): 6, ('q', 'c'): 4, ('q', 'd'): 3, ('q', 'e'): 2, ('q', 'f'): 4, ('q', 'g'): 5, ('q', 'h'): 6, ('q', 'i'): 7, ('q', 'j'): 7, ('q', 'k'): 8, ('q', 'l'): 9, ('q', 'm'): 8, ('q', 'n'): 7, ('q', 'o'): 8, ('q', 'p'): 9, ('q', 'q'): 0, ('q', 'r'): 3, ('q', 's'): 2, ('q', 't'): 4, ('q', 'u'): 6, ('q', 'v'): 5, ('q', 'w'): 1, ('q', 'x'): 3, ('q', 'y'): 5, ('q', 'z'): 2, ('r', 'a'): 4, ('r', 'b'): 3, ('r', 'c'): 3, ('r', 'd'): 2, ('r', 'e'): 1, ('r', 'f'): 1, ('r', 'g'): 2, ('r', 'h'): 3, ('r', 'i'): 4, ('r', 'j'): 4, ('r', 'k'): 5, ('r', 'l'): 6, ('r', 'm'): 5, ('r', 'n'): 4, ('r', 'o'): 5, ('r', 'p'): 6, ('r', 'q'): 3, ('r', 'r'): 0, ('r', 's'): 3, ('r', 't'): 1, ('r', 'u'): 3, ('r', 'v'): 2, ('r', 'w'): 2, ('r', 'x'): 4, ('r', 'y'): 2, ('r', 'z'): 5, ('s', 'a'): 1, ('s', 'b'): 4, ('s', 'c'): 2, ('s', 'd'): 1, ('s', 'e'): 2, ('s', 'f'): 2, ('s', 'g'): 3, ('s', 'h'): 4, ('s', 'i'): 7, ('s', 'j'): 5, ('s', 'k'): 6, ('s', 'l'): 7, ('s', 'm'): 6, ('s', 'n'): 5, ('s', 'o'): 8, ('s', 'p'): 9, ('s', 'q'): 2, ('s', 'r'): 3, ('s', 's'): 0, ('s', 't'): 4, ('s', 'u'): 6, ('s', 'v'): 3, ('s', 'w'): 1, ('s', 'x'): 1, ('s', 'y'): 5, ('s', 'z'): 2, ('t', 'a'): 5, ('t', 'b'): 2, ('t', 'c'): 4, ('t', 'd'): 3, ('t', 'e'): 2, ('t', 'f'): 2, ('t', 'g'): 1, ('t', 'h'): 2, ('t', 'i'): 3, ('t', 'j'): 3, ('t', 'k'): 4, ('t', 'l'): 5, ('t', 'm'): 4, ('t', 'n'): 3, ('t', 'o'): 4, ('t', 'p'): 5, ('t', 'q'): 4, ('t', 'r'): 1, ('t', 's'): 4, ('t', 't'): 0, ('t', 'u'): 2, ('t', 'v'): 3, ('t', 'w'): 3, ('t', 'x'): 5, ('t', 'y'): 1, ('t', 'z'): 6, ('u', 'a'): 7, ('u', 'b'): 4, ('u', 'c'): 6, ('u', 'd'): 5, ('u', 'e'): 4, ('u', 'f'): 4, ('u', 'g'): 3, ('u', 'h'): 2, ('u', 'i'): 1, ('u', 'j'): 1, ('u', 'k'): 2, ('u', 'l'): 3, ('u', 'm'): 2, ('u', 'n'): 3, ('u', 'o'): 2, ('u', 'p'): 3, ('u', 'q'): 6, ('u', 'r'): 3, ('u', 's'): 6, ('u', 't'): 2, ('u', 'u'): 0, ('u', 'v'): 5, ('u', 'w'): 5, ('u', 'x'): 7, ('u', 'y'): 1, ('u', 'z'): 8, ('v', 'a'): 4, ('v', 'b'): 1, ('v', 'c'): 1, ('v', 'd'): 2, ('v', 'e'): 3, ('v', 'f'): 1, ('v', 'g'): 2, ('v', 'h'): 3, ('v', 'i'): 6, ('v', 'j'): 4, ('v', 'k'): 5, ('v', 'l'): 6, ('v', 'm'): 3, ('v', 'n'): 2, ('v', 'o'): 7, ('v', 'p'): 8, ('v', 'q'): 5, ('v', 'r'): 2, ('v', 's'): 3, ('v', 't'): 3, ('v', 'u'): 5, ('v', 'v'): 0, ('v', 'w'): 4, ('v', 'x'): 2, ('v', 'y'): 4, ('v', 'z'): 3, ('w', 'a'): 2, ('w', 'b'): 5, ('w', 'c'): 3, ('w', 'd'): 2, ('w', 'e'): 1, ('w', 'f'): 3, ('w', 'g'): 4, ('w', 'h'): 5, ('w', 'i'): 6, ('w', 'j'): 6, ('w', 'k'): 7, ('w', 'l'): 8, ('w', 'm'): 7, ('w', 'n'): 6, ('w', 'o'): 7, ('w', 'p'): 8, ('w', 'q'): 1, ('w', 'r'): 2, ('w', 's'): 1, ('w', 't'): 3, ('w', 'u'): 5, ('w', 'v'): 4, ('w', 'w'): 0, ('w', 'x'): 2, ('w', 'y'): 4, ('w', 'z'): 3, ('x', 'a'): 2, ('x', 'b'): 3, ('x', 'c'): 1, ('x', 'd'): 2, ('x', 'e'): 3, ('x', 'f'): 3, ('x', 'g'): 4, ('x', 'h'): 5, ('x', 'i'): 8, ('x', 'j'): 6, ('x', 'k'): 7, ('x', 'l'): 8, ('x', 'm'): 5, ('x', 'n'): 4, ('x', 'o'): 9, ('x', 'p'): 10, ('x', 'q'): 3, ('x', 'r'): 4, ('x', 's'): 1, ('x', 't'): 5, ('x', 'u'): 7, ('x', 'v'): 2, ('x', 'w'): 2, ('x', 'x'): 0, ('x', 'y'): 6, ('x', 'z'): 1, ('y', 'a'): 6, ('y', 'b'): 3, ('y', 'c'): 5, ('y', 'd'): 4, ('y', 'e'): 3, ('y', 'f'): 3, ('y', 'g'): 2, ('y', 'h'): 1, ('y', 'i'): 2, ('y', 'j'): 2, ('y', 'k'): 3, ('y', 'l'): 4, ('y', 'm'): 3, ('y', 'n'): 2, ('y', 'o'): 3, ('y', 'p'): 4, ('y', 'q'): 5, ('y', 'r'): 2, ('y', 's'): 5, ('y', 't'): 1, ('y', 'u'): 1, ('y', 'v'): 4, ('y', 'w'): 4, ('y', 'x'): 6, ('y', 'y'): 0, ('y', 'z'): 7, ('z', 'a'): 1, ('z', 'b'): 4, ('z', 'c'): 2, ('z', 'd'): 3, ('z', 'e'): 4, ('z', 'f'): 4, ('z', 'g'): 5, ('z', 'h'): 6, ('z', 'i'): 9, ('z', 'j'): 7, ('z', 'k'): 8, ('z', 'l'): 9, ('z', 'm'): 6, ('z', 'n'): 5, ('z', 'o'): 10, ('z', 'p'): 11, ('z', 'q'): 2, ('z', 'r'): 5, ('z', 's'): 2, ('z', 't'): 6, ('z', 'u'): 8, ('z', 'v'): 3, ('z', 'w'): 3, ('z', 'x'): 1, ('z', 'y'): 7, ('z', 'z'): 0}

rows = ["qwertyuiop", "asdfghjkl", "zxcvbnm"]
n = int(input())
for i in range(0, n):
	line = input().strip().split()
	m = int(line[1])
	word = line[0]
	words = []
	for j in range(0, m):
		w = input().strip()
		score = 0
		k = 0 
		while k < len(word):
			score += d[word[k], w[k]]
			k += 1
		words.append((score, w))
	words = sorted(words)
	for word in words:
		print(word[1], word[0])

